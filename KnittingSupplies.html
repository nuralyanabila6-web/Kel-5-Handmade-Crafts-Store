<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knitting Supplies - Atelier Kriya</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="bootstrap-5.0.2-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <!-- navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white py-4 fixed-top">
        <div class="container">
            <a class="navbar-brand d-flex justify-content-between align-items-center order-lg-0" href="index.html">
                <img src="img/logo.jpeg" alt="site icon">
                <span class="text-uppercase fw-lighter ms-2">Atelier Kriya</span>
            </a>

            <div class="order-lg-2 nav-btns">
                <button type="button" class="btn position-relative" onclick="window.location.href='cart.html'">
                    <i class="fa fa-shopping-cart"></i>
                    <span id="cart-count" class="position-absolute top-0 start-100 translate-middle badge bg-primary">0</span>
                </button>
                <button type="button" class="btn position-relative">
                    <i class="fa fa-heart"></i>
                    <span class="position-absolute top-0 start-100 translate-middle badge bg-primary">2</span>
                </button>
                <button type="button" class="btn position-relative">
                    <i class="fa fa-search"></i>
                </button>
            </div>

            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse order-lg-1" id="navMenu">
                <ul class="navbar-nav mx-auto text-center">
                    <li class="nav-item px-2 py-2">
                        <a class="nav-link text-uppercase text-dark" href="index.html">home</a>
                    </li>
                    <li class="nav-item px-2 py-2">
                        <a class="nav-link text-uppercase text-dark" href="shop.html">collection</a>
                    </li>
                    <li class="nav-item px-2 py-2">
                        <a class="nav-link text-uppercase text-dark" href="special.html">specials</a>
                    </li>
                    <li class="nav-item px-2 py-2">
                        <a class="nav-link text-uppercase text-dark" href="blog.html">blogs</a>
                    </li>
                    <li class="nav-item px-2 py-2">
                        <a class="nav-link text-uppercase text-dark" href="about.html">about us</a>
                    </li>
                    <li class="nav-item px-2 py-2 border-0">
                        <a class="nav-link text-uppercase text-dark" href="popular.html">popular</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- end of navbar -->

    <!-- single product -->
    <section id="single-product" class="py-5" style="padding-top: 104px;">
        <div class="container">
            <div class="row gy-5">
                <!-- Product Image and Gallery -->
                <div class="col-lg-6">
                    <div class="collection-img position-relative mb-3">
                        <img id="main-image" src="img/kt1.jpg" class="w-100" alt="Knitted Hair Clip">
                        <span class="position-absolute bg-primary text-white d-flex align-items-center justify-content-center">sale</span>
                    </div>
                    <!-- Image Gallery -->
                    <div class="d-flex justify-content-start">
                        <img src="img/kt1.jpg" class="img-thumbnail me-2 gallery-img" style="width: 80px; height: 80px; cursor: pointer;" alt="View 1" onclick="changeImage('img/kt1.jpg')">
                    </div>
                </div>

                <!-- Product Details -->
                <div class="col-lg-6">
                    <h2 class="text-capitalize mb-3">Knitted Hair Clip</h2>
                    <div class="rating mb-3">
                        <span class="text-primary"><i class="fas fa-star"></i></span>
                        <span class="text-primary"><i class="fas fa-star"></i></span>
                        <span class="text-primary"><i class="fas fa-star"></i></span>
                        <span class="text-primary"><i class="fas fa-star"></i></span>
                        <span class="text-primary"><i class="fas fa-star"></i></span>
                        <span class="text-muted ms-2">(5.0 / 5.0)</span>
                    </div>
                    <span class="fw-bold fs-4">160.000</span>
                    <p class="mt-3 text-muted">
                        Bring your creative ideas to life with our complete and carefully curated Knitting Supplies set. Designed for both beginners and experienced crafters, this collection provides all the essential tools you need to start your knitting journey with comfort and confidence.
Each item is selected for its quality, durability, and ease of use â€” making every project more enjoyable and every creation more satisfying.
                    </p>
                    <p class="text-muted">
                        <strong>Features:</strong><br>
                        - Complete set for knitting and crocheting projects.<br>
                        - High-quality, durable tools for long-term use.<br>
                        - Comfortable grip for easy handling.<br>
                        - Suitable for beginners and professionals.<br>
                    </p>
                    <div class="mt-4">
                        <i class="fas fa-shopping-cart add-to-cart fs-3 me-3" data-name="Knitted Hair Clip" data-price="12000" data-image="img/khc1.jpg" style="cursor: pointer;"></i>
                        <span class="text-muted">Click to add to cart</span>
                    </div>
                    <div class="mt-4">
                        <button class="btn btn-primary btn-lg" onclick="proceedToCheckout()">Proceed to Checkout</button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- end of single product -->

    <!-- footer -->
    <footer class="bg-dark py-5">
        <div class="container">
            <div class="row text-white g-4">
                <div class="col-md-6 col-lg-3">
                    <a class="text-uppercase text-decoration-none brand text-white" href="index.html">Atelier Kriya</a>
                    <p class="text-white text-muted mt-3">A sanctuary for handmade crafts that brings a touch of magic to your everyday life. Each piece is heart wrought for the modern dreamer.</p>
                </div>

                <div class="col-md-6 col-lg-3">
                    <h5 class="fw-light">Links</h5>
                    <ul class="list-unstyled">
                        <li class="my-3">
                            <a href="#" class="text-white text-decoration-none text-muted">
                                <i class="fas fa-chevron-right me-1"></i> Home
                            </a>
                        </li>
                        <li class="my-3">
                            <a href="#" class="text-white text-decoration-none text-muted">
                                <i class="fas fa-chevron-right me-1"></i> Collection
                            </a>
                        </li>
                        <li class="my-3">
                            <a href="#" class="text-white text-decoration-none text-muted">
                                <i class="fas fa-chevron-right me-1"></i> Specials
                            </a>
                        </li>
                        <li class="my-3">
                            <a href="#" class="text-white text-decoration-none text-muted">
                                <i class="fas fa-chevron-right me-1"></i> Blogs
                            </a>
                        </li>
                        <li class="my-3">
                            <a href="#" class="text-white text-decoration-none text-muted">
                                <i class="fas fa-chevron-right me-1"></i> About Us
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="col-md-6 col-lg-3">
                    <h5 class="fw-light mb-3">Contact Us</h5>
                    <div class="d-flex justify-content-start align-items-start my-2 text-muted">
                        <span class="me-3">
                            <i class="fas fa-map-marked-alt"></i>
                        </span>
                        <span class="fw-light">
                            Albert Street, New York, AS 756, United States of America
                        </span>
                    </div>
                    <div class="d-flex justify-content-start align-items-start my-2 text-muted">
                        <span class="me-3">
                            <i class="fas fa-envelope"></i>
                        </span>
                        <span class="fw-light">
                            attire.support@gmail.com
                        </span>
                    </div>
                    <div class="d-flex justify-content-start align-items-start my-2 text-muted">
                        <span class="me-3">
                            <i class="fas fa-phone-alt"></i>
                        </span>
                        <span class="fw-light">
                            +9786 6776 236
                        </span>
                    </div>
                </div>

                <div class="col-md-6 col-lg-3">
                    <h5 class="fw-light mb-3">Follow Us</h5>
                    <div>
                        <ul class="list-unstyled d-flex">
                            <li>
                                <a href="#" class="text-white text-decoration-none text-muted fs-4 me-4">
                                    <i class="fab fa-facebook-f"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#" class="text-white text-decoration-none text-muted fs-4 me-4">
                                    <i class="fab fa-twitter"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#" class="text-white text-decoration-none text-muted fs-4 me-4">
                                    <i class="fab fa-instagram"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#" class="text-white text-decoration-none text-muted fs-4 me-4">
                                    <i class="fab fa-pinterest"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- end of footer -->

    <script src="js/jquery-3.7.1.js"></script>
    <script src="https://unpkg.com/isotope-layout@3.0.6/dist/isotope.pkgd.min.js"></script>
    <script src="bootstrap-5.0.2-dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/script.js"></script>
    <script src="js/darkmode.js"></script>
    <script>
        // Function to change main image
        function changeImage(src) {
            document.getElementById('main-image').src = src;
        }

        // Function to add item to cart
        function addToCart(name, price, image) {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            let existingItem = cart.find(item => item.name === name);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ name, price: parseInt(price), image, quantity: 1 });
            }
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            alert(`${name} added to cart!`);
        }

        // Update cart count in navbar
        function updateCartCount() {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            let count = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cart-count').textContent = count;
        }

        // Function to proceed to checkout
        function proceedToCheckout() {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            if (cart.length === 0) {
                alert('Your cart is empty! Add some items first.');
                window.location.href = 'cart.html';
            } else {
                window.location.href = 'checkout.html';
            }
        }

        // Attach event listeners to Add to Cart icons (dengan pencegahan klik ganda)
        document.addEventListener('DOMContentLoaded', () => {
            let isProcessing = false; // Flag untuk mencegah klik ganda
            document.querySelectorAll('.add-to-cart').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    if (isProcessing) return; // Jika sedang diproses, abaikan klik
                    isProcessing = true;
                    const name = icon.getAttribute('data-name');
                    const price = icon.getAttribute('data-price');
                    const image = icon.getAttribute('data-image');
                    addToCart(name, price, image);
                    setTimeout(() => { isProcessing = false; }, 500); // Reset flag setelah 500ms
                });
            });
            updateCartCount(); // Load count on page load
        });
    </script>
</body>
</html>